<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ước tính cước phí - Viettel Post</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/research/postage.css" />
    <link rel="stylesheet" href="assets/order/css/create-order.css" />
  </head>
  <body>
    <div class="postage-container">
      <h3>Ước tính cước phí</h3>
      <!-- Main Form -->
      <div class="postage-form">
        <!-- Service Selection -->
        <div class="service-section">
          <div class="section-title">
            <i class="fas fa-cube"></i>
            DỊCH VỤ
          </div>
          <div class="row">
            <div class="col-12">
              <select class="form-select" id="serviceType" disabled>
                <option selected value="domestic">
                  Chuyển phát trong nước (Miễn phí thu hộ)
                </option>
              </select>
            </div>
          </div>
        </div>

        <!-- Address Section -->
        <div class="address-section">
          <div class="row align-items-start">
            <!-- Sender -->
            <div class="col-md-6">
              <div class="section-title">
                <i class="fas fa-user"></i>
                NGƯỜI GỬI
              </div>

              <div class="mb-3">
                <label class="form-label">Tỉnh/Thành phố</label>
                <div class="custom-select-search" id="senderProvinceSelect">
                  <div class="select-display" data-placeholder="Tỉnh/Thành phố">
                    <span>Tỉnh/Thành phố</span>
                    <i class="fas fa-chevron-down"></i>
                  </div>
                  <div class="select-dropdown">
                    <div class="search-container">
                      <input
                        type="text"
                        class="search-input"
                        placeholder="Tìm kiếm Tỉnh/Thành phố"
                      />
                    </div>
                    <div class="options-container">
                      <!-- Options will be populated by JavaScript -->
                    </div>
                  </div>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">Quận/Huyện</label>
                <div class="custom-select-search" id="senderDistrictSelect">
                  <div class="select-display" data-placeholder="Quận/Huyện">
                    <span>Quận/Huyện</span>
                    <i class="fas fa-chevron-down"></i>
                  </div>
                  <div class="select-dropdown">
                    <div class="search-container">
                      <input
                        type="text"
                        class="search-input"
                        placeholder="Tìm kiếm Quận/Huyện"
                      />
                    </div>
                    <div class="options-container">
                      <div class="no-results">Vui lòng chọn Tỉnh/Thành phố trước</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Receiver -->
            <div class="col-md-6">
              <div class="section-title">
                <i class="fas fa-user"></i>
                NGƯỜI NHẬN
              </div>

              <div class="mb-3">
                <label class="form-label">Tỉnh/Thành phố</label>
                <div class="custom-select-search" id="receiverProvinceSelect">
                  <div class="select-display" data-placeholder="Tỉnh/Thành phố">
                    <span>Tỉnh/Thành phố</span>
                    <i class="fas fa-chevron-down"></i>
                  </div>
                  <div class="select-dropdown">
                    <div class="search-container">
                      <input
                        type="text"
                        class="search-input"
                        placeholder="Tìm kiếm Tỉnh/Thành phố"
                      />
                    </div>
                    <div class="options-container">
                      <!-- Options will be populated by JavaScript -->
                    </div>
                  </div>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">Quận/Huyện</label>
                <div class="custom-select-search" id="receiverDistrictSelect">
                  <div class="select-display" data-placeholder="Quận/Huyện">
                    <span>Quận/Huyện</span>
                    <i class="fas fa-chevron-down"></i>
                  </div>
                  <div class="select-dropdown">
                    <div class="search-container">
                      <input
                        type="text"
                        class="search-input"
                        placeholder="Tìm kiếm Quận/Huyện"
                      />
                    </div>
                    <div class="options-container">
                      <div class="no-results">Vui lòng chọn Tỉnh/Thành phố trước</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Package Information -->
        <div class="package-section">
          <div class="section-title">
            <i class="fas fa-cube"></i>
            THÔNG TIN BƯU PHẨM
          </div>

          <div class="row">
            <div class="col-md-6">
              <label class="form-label">Khối lượng bưu phẩm</label>
              <div class="weight-input-group">
                <input
                  type="number"
                  class="form-control weight-input"
                  id="packageWeight"
                  placeholder="0"
                  min="0"
                />
                <div class="weight-unit">Gram</div>
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label">Số tiền thu hộ</label>
              <input
                type="number"
                class="form-control"
                id="codAmount"
                placeholder="0"
                min="0"
              />
            </div>
          </div>
        </div>

        <!-- Lookup Button -->
        <div class="text-start">
          <button type="button" class="lookup-btn" id="lookupBtn">Tra cứu</button>
        </div>
      </div>

      <!-- Results Section -->
      <div id="resultsSection" class="results-section" style="display: none;">
        <h4 class="results-title">Dịch vụ của chúng tôi</h4>
        <div id="servicesContainer" class="services-container">
          <!-- Services will be populated here -->
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Load required modules for postage estimation
      (async function() {
        const loadScript = (src) => new Promise((resolve, reject) => {
          const script = document.createElement('script');
          script.src = src;
          script.onload = resolve;
          script.onerror = reject;
          document.head.appendChild(script);
        });

        if (!window.ScopeData) await loadScript('assets/fetchData/scope.js');
        if (!window.AddressData) await loadScript('assets/fetchData/address.js');
        await loadScript('assets/research/postage.js');
      })();
    </script>
  </body>
</html>
